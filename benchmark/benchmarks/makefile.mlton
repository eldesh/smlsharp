SML = mlton
DOIT_SUFFIX = .mlton

BENCHMARKS = \
    barnes_hut

DOIT = $(addsuffix /doit$(DOIT_SUFFIX),$(BENCHMARKS))

all: $(DOIT)

$(DOIT): %/doit$(DOIT_SUFFIX): %/sources.mlb
	$(SML) -output $(dir $@)/doit$(DOIT_SUFFIX) $<

.PHONY: clean
clean:
	rm -rf $(DOIT)


